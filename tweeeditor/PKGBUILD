# Maintainer: pavbaranov <pavbaranov at gmail dot com>
# Contributor: Damian N. <nycko123 at gmail>

pkgname=tweeeditor
_realname=TweeEditor
pkgver=1.0.4
pkgrel=1
pkgdesc="Simple text editor"
arch=('x86_64')
url="https://github.com/TweeChalice/TweeEditor"
license=('MPL')
depends=(qt5-base)
makedepends=(qt5-tools)
source=("https://github.com/TweeChalice/TweeEditor/archive/v$pkgver.tar.gz")
sha256sums=('ab4bf2b3ce7d1a84fd2bbe89977befd00b45db600d95b33bd16e21eb0f1334d0')

prepare() {
    mkdir -p build
    }
    
build() {
    cd build 
    cmake ../TweeEditor-$pkgver \
        -DCMAKE_INSTALL_PREFIX=/usr \
        -DCMAKE_BUILD_TYPE=Release
    make
}

package() {
    install -Dm755 "$srcdir/build/TweeEdit" "$pkgdir/usr/bin/tweeeditor"
    install -Dm644 "$srcdir/TweeEditor-$pkgver/translations/TweeSimpleEdit_pl_PL.qm" "$pkgdir/usr/share/tweeeditor/TweeSimpleEdit_pl_PL.qm"
}
